function t(t){return t&&"object"==typeof t&&"default"in t?t.default:t}var e=require("react-is"),n=require("react"),r=t(n),u=t(require("object-is")),o=e.Element,i=e.Portal,c=e.Fragment,a=e.StrictMode,l=e.Profiler,f=e.ContextProvider,s=e.ContextConsumer,p=e.ConcurrentMode,d=e.ForwardRef,v=e.Suspense,h=e.Memo,m=e.Lazy,y=n.Children.toArray,x=function(t){return null!==t&&"object"==typeof t},_=function(t){return y(t).filter(x)},S=function(t,e){return"object"==typeof e?Object.assign({},e,t):t},g=new Map,M={},b=void 0,w=void 0,E=function(){return Object.assign({},M)},C=function(){return new Map(g)},k=function(){var t=b;return b=void 0,t},j=function(){var t=w;return w=void 0,t},z=function(t){void 0!==t&&g.set(t[0],t[1])},P=function(t){b=void 0,M=t},q=function(t){w=void 0,g=t},O=function(t){var e=g.get(t);return void 0!==e?e:t._currentValue},D={},F=function(t){var e=t.contextType,n=t.contextTypes;if(e)return O(e);if(!n)return D;var r={};for(var u in n)r[u]=M[u];return r},R=null,W=function(t){R=t},N=function(){if(null===R)throw new Error("[react-ssr-prepass] Hooks can only be called inside the body of a function component. (https://fb.me/react-invalid-hook-call)");return R},U=null,T=null,A=!1,I=!1,L=null,$=0,V=function(t){U=t};function H(){return null===T?null===U?(A=!1,U=T={memoizedState:null,queue:null,next:null}):(A=!0,T=U):null===T.next?(A=!1,T=T.next={memoizedState:null,queue:null,next:null}):(A=!0,T=T.next),T}function B(t,e){return"function"==typeof e?e(t):e}function Y(t,e,n){var r,u=N();if(T=H(),A){var o=T.queue,i=o.dispatch;if(null!==L){var c=L.get(o);if(void 0!==c){L.delete(o);var a=T.memoizedState,l=c;do{a=t(a,l.action),l=l.next}while(null!==l);return T.memoizedState=a,[a,i]}}return[T.memoizedState,i]}r=t===B?"function"==typeof e?e():e:void 0!==n?n(e):e,T.memoizedState=r;var f=T.queue={last:null,dispatch:null},s=f.dispatch=function(t,e,n){if(t===N()){I=!0;var r={action:n,next:null};null===L&&(L=new Map);var u=L.get(e);if(void 0===u)L.set(e,r);else{for(var o=u;null!==o.next;)o=o.next;o.next=r}}}.bind(null,u,f);return[T.memoizedState,s]}function G(){}var J={readContext:function(t,e){return O(t)},useContext:function(t,e){return N(),O(t)},useMemo:function(t,e){N();var n=void 0===e?null:e;if(null!==(T=H())){var r=T.memoizedState;if(null!==r&&null!==n&&function(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!u(t[n],e[n]))return!1;return!0}(n,r[1]))return r[0]}var o=t();return T.memoizedState=[o,n],o},useReducer:Y,useRef:function(t){N();var e=(T=H()).memoizedState;if(null===e){var n={current:t};return T.memoizedState=n,n}return e},useState:function(t){return Y(B,t)},useCallback:function(t,e){return t},useLayoutEffect:G,useImperativeHandle:G,useEffect:G,useDebugValue:G},K=function(t){return t._status=0,t._ctor().then(function(e){"function"==typeof e?(t._result=e,t._status=1):null!==e&&"object"==typeof e&&"function"==typeof e.default?(t._result=e.default,t._status=1):t._status=2}).catch(function(){t._status=2})},Q=function(t,e,r){return 1===t._status?n.createElement(t._result,e):null},X=function(t,e,n){return{contextMap:E(),contextStore:C(),id:N(),hook:U,kind:"frame.hooks",thenable:n,props:e,type:t}},Z=function(t,e,n){try{return function(t,e,n){for(var r=t(e,n);$<25&&I;)I=!1,$+=1,T=null,r=t(e,n);return $=0,L=null,T=null,r}(t,S(e,t.defaultProps),F(t))}catch(r){if("function"!=typeof r.then)throw r;return n.push(X(t,e,r)),null}},tt=function(t,e,n){return{contextMap:E(),contextStore:C(),thenable:n,kind:"frame.class",instance:e,type:t}},et=function(t,e,n){!function(t){var e=t.updater.queue;if(e.length>0){for(var n=Object.assign({},t.state),r=0,u=e.length;r<u;r++){var o=e[r],i="function"==typeof o?o.call(t,n,t.props,t.context):o;null!==i&&Object.assign(n,i)}t.state=n,e.length=0}}(e);var r=null;try{r=e.render()}catch(r){if("function"!=typeof r.then)throw r;return n.push(tt(t,e,r)),null}if(void 0!==t.childContextTypes&&"function"==typeof e.getChildContext){var u=e.getChildContext();null!==u&&"object"==typeof u&&function(t){for(var e in b={},t)b[e]=M[e],M[e]=t[e]}(u)}if("function"!=typeof e.getDerivedStateFromProps&&("function"==typeof e.componentWillMount||"function"==typeof e.UNSAFE_componentWillMount)&&"function"==typeof e.componentWillUnmount)try{e.componentWillUnmount()}catch(t){}return e._isMounted=!1,r},nt="production"!==process.env.NODE_ENV?20:5,rt=function(t,e,n,r,u){return(o=t).prototype&&o.prototype.isReactComponent?function(t,e,n,r,u){W(null);var o=function(t,e){var n,r={queue:n=[],isMounted:function(){return!1},enqueueForceUpdate:function(){return null},enqueueReplaceState:function(t,e){t._isMounted&&(n.length=0,n.push(e))},enqueueSetState:function(t,e){t._isMounted&&n.push(e)}},u=S(e,t.defaultProps),o=F(t),i=new t(u,o,r);if(i.props=u,i.context=o,i.updater=r,i._isMounted=!0,void 0===i.state&&(i.state=null),"function"==typeof t.getDerivedStateFromProps){var c=(0,t.getDerivedStateFromProps)(i.props,i.state);null!=c&&(i.state=Object.assign({},i.state,c))}else"function"==typeof i.componentWillMount?i.componentWillMount():"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount();return i}(t,e),i=r(u,o);return i?(n.push(tt(t,o,i)),null):et(t,o,n)}(t,e,n,r,u):function(t,e,n,r,u){V(null),W({});var o=r(u);return o?(n.push(X(t,e,o)),null):Z(t,e,n)}(t,e,n,r,u);var o},ut=function(t,e,r){switch(function(t){switch(t.$$typeof){case i:return i;case o:switch(t.type){case p:return p;case c:return c;case l:return l;case a:return a;case v:return v;default:switch(t.type&&t.type.$$typeof){case m:return m;case h:return h;case s:return s;case f:return f;case d:return d;default:return o}}default:return}}(t)){case v:case a:case p:case l:case c:return _(t.props.children);case f:var u=t.props,y=u.children;return function(t,e){w=[t,g.get(t)],g.set(t,e)}(t.type._context,u.value),_(y);case s:var x=t.props.children;if("function"==typeof x){var M=t.type,b=O("object"==typeof M._context?M._context:M);return _(x(b))}return[];case m:var k=function(t,e,n){return 2!==t._status&&1!==t._status?(n.push({contextMap:E(),contextStore:C(),kind:"frame.lazy",thenable:K(t),props:e,type:t}),null):Q(t,e)}(t.type,t.props,e);return _(k);case h:var j=t,z=j.type.type,P=n.createElement(z,j.props),q=rt(z,j.props,e,r,P);return _(q);case d:var D=t.type,F=D.render,R=S(t.props,D.defaultProps),W=n.createElement(rt,R),N=rt(F,R,e,r,W);return _(N);case o:if("string"==typeof t.type)return _(t.props.children);var U=rt(t.type,t.props,e,r,t);return _(U);case i:default:return[]}},ot=function(t,e,n,r,u){for(var o,i=Date.now();t.length>0;){var c=t[t.length-1].shift();if(void 0!==c){var a=ut(c,r,u);t.push(a),e.push(k()),n.push(j())}else t.pop(),void 0!==(o=e.pop())&&Object.assign(M,o),z(n.pop());if(Date.now()-i>nt)return!0}return!1},it=function(t,e,n){return{contextMap:E(),contextStore:C(),thenable:Promise.resolve(),kind:"frame.yield",children:t,map:e,store:n}},ct=function(t,e,n){var r=[t],u=[k()],o=[j()];ot(r,u,o,e,n)&&e.unshift(it(r,u,o))},at=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher,lt=at.current,ft=function(t,e){return 0===t.length?Promise.resolve():function(t,e,n){if("frame.yield"===t.kind){var r=t;return new Promise(function(t){setImmediate(function(){lt=at.current,at.current=J,function(t,e,n){W(null),P(t.contextMap),q(t.contextStore),ot(t.children,t.map,t.store,e,n)&&e.unshift(it(t.children,t.map,t.store))}(r,e,n),at.current=lt,t()})})}return t.thenable.then(function(){lt=at.current,at.current=J;var r=[];"frame.class"===t.kind?r=function(t,e){return W(null),P(e.contextMap),q(e.contextStore),et(e.type,e.instance,t)}(e,t):"frame.hooks"===t.kind?r=function(t,e){return V(e.hook),W(e.id),P(e.contextMap),q(e.contextStore),Z(e.type,e.props,t)}(e,t):"frame.lazy"===t.kind&&(r=function(t,e){return W(null),P(e.contextMap),q(e.contextStore),Q(e.type,e.props)}(0,t)),ct(_(r),e,n),at.current=lt})}(t.shift(),t,e).then(function(){return ft(t,e)})},st=function(){};module.exports=function(t,e){var n=[],r=void 0!==e?e:st;P({}),q(new Map);try{lt=at.current,at.current=J,ct(_(t),n,r)}catch(t){return Promise.reject(t)}finally{at.current=lt}return ft(n,r)};
//# sourceMappingURL=react-ssr-prepass.production.min.js.map
